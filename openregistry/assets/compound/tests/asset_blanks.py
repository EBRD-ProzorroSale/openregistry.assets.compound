# -*- coding: utf-8 -*-
from openregistry.assets.compound.models import Asset


# AssetTest


def simple_add_asset(self):

    u = Asset(self.initial_data)
    u.assetID = "UA-X"

    assert u.id is None
    assert u.rev is None

    u.store(self.db)

    assert u.id is not None
    assert u.rev is not None

    fromdb = self.db.get(u.id)

    assert u.assetID == fromdb['assetID']
    assert u.doc_type == "Asset"

    u.delete_instance(self.db)
